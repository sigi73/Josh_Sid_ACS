# Memory and Storage Performance Profiling
## Test Setups
### MLC
CPU Used: Intel Core i7-8700K
Memory Specs: `TODO`

In order to collect eh data using MLC, the following process was used.

> TODO


### FIO
CPU Used:
Disk Specs: [Intel SSD 530 Series](https://ark.intel.com/content/www/us/en/ark/products/75331/intel-ssd-530-series-240gb-2-5in-sata-6gb-s-20nm-mlc.html)
 - Sequential read: Up to 540 MB/s
 - Sequential write: Up to 490 MB/s
 - Random read: Up to 41k IOPS
 - Random write: Up to 80k IOPS

In order to collect the latency and bandwidth data for FIO, the following process was used. 

## Results
Raw data: https://docs.google.com/spreadsheets/d/1zwgUYmTq6vadqQo92bs4RTT5yU-sI8Gr8TbZ7Z6BY6A/edit?usp=sharing 

### NUMA Node Idle Latencies (ns)
| NUMA Node 0-0|
|--|
| 42.9|

### NUMA Node 0-0 Bandwidths (MB/sec)
| Read Only |100% non-temporal write| 3 Reads and 1 Write | 4 Reads and 1 Write | 3 Reads from Different Buffers and 1 Write|
|--|--|--|--|--|
|41767.4| 42554.5| 36811.3| 37458.6| 34994.6|


### CPU Idle Latencies (ns)
|  | Numa Node |
|--|--|
| CPU | 0 |
| 0 | 43.3|
| 1 | 42.6|
| 2 | 42.6 |
| 3 | 42.5 | 
| 4 | 42.7 |
| 5 | 42.7 |
| 6 | 42.8 |
| 7 | 42.8 |
| 8 | 43.2 |
| 9 | 43.1 |
|10 | 44.3 |
|11| 44.3 |

### Peak Memory Bandwidths
|Traffic| 16 byte (128 bit) load/stores| AVX 32 byte (256 bit) load/stores| Peak Cache Bandwidth|
|--|--|--|--|
| All Reads | 41786.7 | 40190.7 | 871412.4 |
| 3:1 Reads-Writes | 37251.2 | 36596.2 | 664840.5 |
| 2:1 Reads-Writes | 36420.7 | 35682.6 | 550508.1 |
| 1:1 Reads-Writes | 36011.8 | 35632.6 | 929121.0 |
| Stream-triad like | 36752.9 | 36389.4 | 121530.6 |

### Loaded Latencies for the System - Read only
| Delay | Latency (ns) | BW (MB/sec) |
|--|--|--|
| 0 | 153.7 | 42174.7 |
| 2 | 161.87 | 41886.5 |
| 8 | 149.01 | 42117 |
| 15 | 147 | 42054.4 |
| 50 | 124.05 | 41443.7 |
| 100 | 87.5 | 38043.1 |
| 200 | 59.57 | 26639.9 |
| 300 | 53.51 | 18755 |
| 400 | 50.86 | 14745.9 |
| 500 | 48.98 | 12231 |
| 700 | 47.49 | 9230.6 |
| 1000 | 46.66 | 6905 |
| 1300 | 45.74 | 5703.8|
| 1700 | 44.80 | 4725.5 |
| 2500 | 45.68| 3656.3 |
| 3500 | 45.85 | 3002.6 |
| 5000 | 44.92 | 2556.2 |
| 9000 | 44.98 | 2052.9 |
| 20000 | 44.25 | 1740.5 |

TODO: Insert Plot

### Loaded Latencies for the System - 2:1 Read:Write
| Delay    | Latency (ns) | Bandwidth (MB/sec) |
|----------|--------------|--------------------|
|        0 |       325.43 |            36164.3 |
|        2 |       318.53 |            36292.5 |
|        8 |       335.34 |            35683.3 |
|       15 |       302.86 |            36304.4 |
|       50 |       278.02 |            36980.1 |
|      100 |       297.33 |            36745.1 |
|      200 |       194.76 |            34869.3 |
|      300 |        77.52 |            26618.9 |
|      400 |        75.97 |            20468.5 |
|      500 |        61.96 |            17247.4 |
|      700 |        51.42 |            13071.5 |
|     1000 |         49.7 |             9597.8 |
|     1300 |        48.05 |             7787.9 |
|     1700 |        47.73 |             6273.7 |
|     2500 |        60.56 |             4262.4 |
|     3500 |        46.68 |               3770 |
|     5000 |        56.39 |             2793.2 |
|     9000 |        57.09 |             2034.6 |
|    20000 |        45.52 |             1830.6 |

TODO: Insert Plot

### Loaded Latencies for the system - 100% Non-Temporal Write
| Delay    | Latency (ns) | Bandwidth (MB/sec) |
|----------|--------------|--------------------|
|        0 |       325.43 |            36164.3 |
|        2 |       318.53 |            36292.5 |
|        8 |       335.34 |            35683.3 |
|       15 |       302.86 |            36304.4 |
|       50 |       278.02 |            36980.1 |
|      100 |       297.33 |            36745.1 |
|      200 |       194.76 |            34869.3 |
|      300 |        77.52 |            26618.9 |
|      400 |        75.97 |            20468.5 |
|      500 |        61.96 |            17247.4 |
|      700 |        51.42 |            13071.5 |
|     1000 |         49.7 |             9597.8 |
|     1300 |        48.05 |             7787.9 |
|     1700 |        47.73 |             6273.7 |
|     2500 |        60.56 |             4262.4 |
|     3500 |        46.68 |               3770 |
|     5000 |        56.39 |             2793.2 |
|     9000 |        57.09 |             2034.6 |
|    20000 |        45.52 |             1830.6 |

TODO: Insert Plot

### FIO Results
The raw data generated by FIO as described above was too large to include here. Instead the post-processed graphs are shown below. 


## Analysis and Conclusion

### Latency vs. Throughput for Memory

### Latency vs Throughput for Disk

